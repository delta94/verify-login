"use strict";const VERIFY_OAUTH2_AUTH_BASE_URL="https://verify.veritone.com/oauth2/auth",VERIFY_OAUTH2_TOKEN_URL="https://verify.veritone.com/oauth2/token",VERIFY_GET_INFO_URL="https://verify.veritone.com/api/admin/user",VERIFY_OAUTH2_REVOKE_URL="https://verify.veritone.com/oauth2/revoke";function OAuth2Client(t){this.option=t}OAuth2Client.prototype.generateAuthUrl=function(t={}){t.client_id=t.client_id||this.option.client_id,t.redirect_uri=t.redirect_uri||this.option.redirect_uri,t.state=t.state||"iuahgdjasjkhdgjhsgadgsadjhajsh",t.scope="openid",t.response_type="code",t.max_age=0;return"https://verify.veritone.com/oauth2/auth"+`?client_id=${t.client_id}&redirect_uri=${encodeURIComponent(t.redirect_uri)}`},OAuth2Client.prototype.getToken=function(t,e){const i="string"==typeof t?{code:t}:t;if(!e)return this.getTokenAsync(i);this.getTokenAsync(i).then(t=>e(null,t.tokens,t.res),t=>e(t,null,t.response))},OAuth2Client.prototype.getTokenAsync=async function(t){t.redirect_uri=t.redirect_uri||this.option.redirect_uri;const e=t.code,i=t.client_id||this.option.client_id,o=this.option.secret,n=t.redirect_uri,r=[];r.push(`code=${e}`),r.push(`secret=${o}`),r.push(`client_id=${i}`),r.push(`redirect_uri=${n}`);const{data:s}=await axios({method:"GET",url:"https://verify.veritone.com/oauth2/token?"+r.join("&"),headers:{"Content-Type":"application/json"}});return s},OAuth2Client.prototype.getInfo=async function(t){const{data:e}=await axios({method:"GET",url:"https://verify.veritone.com/api/admin/user",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return e},OAuth2Client.prototype.revokeToken=async function(t){const{data:e}=await axios({method:"GET",url:"https://verify.veritone.com/oauth2/revoke",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return e};